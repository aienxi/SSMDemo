(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c86f9b"],{"424e":function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return u}));var o=n("b775"),c=n("01ea"),i=n("5163"),a=i["a"].getUserInfo();function s(t,e){var n="".concat(c["a"].GET_DOC,"?selfId=").concat(a.salesId,"&classId=").concat(t.classId,"&docName=").concat(encodeURI(t.docName),"&pageNum=").concat(t.pageNum);return e&&(n=n+"&salesId="+a.salesId),o["a"].get(n)}function r(t,e){var n="";return n=e?"".concat(c["a"].CET_COMMENT,"?selfId=").concat(a.salesId,"&comSalerId=").concat(a.salesId,"&pageNum=").concat(t.pageNum):"".concat(c["a"].CET_COMMENT,"?selfId=").concat(a.salesId,"&docId=").concat(t.docId,"&pageNum=").concat(t.pageNum),o["a"].get(n)}function d(t){var e="".concat(c["a"].ADD_COMMENT,"?selfId=").concat(a.salesId,"&comSalerId=").concat(a.salesId,"&docId=").concat(t.docId,"&comSalerName=").concat(encodeURI(t.comSalerName),"&comContent=").concat(encodeURI(t.comContent),"&comType=").concat(t.comType);return o["a"].get(e)}function m(t){var e="".concat(c["a"].SAVE_DOC,"?selfId=").concat(a.salesId,"&classId=").concat(t.classId,"&docName=").concat(encodeURI(t.docName),"&docSummary=").concat(encodeURI(t.docSummary),"&docUrl=").concat(t.docUrl);return o["a"].get(e)}function l(t){var e="".concat(c["a"].UPDATE_DOC,"?selfId=").concat(a.salesId,"&classId=").concat(t.classId,"&docName=").concat(encodeURI(t.docName),"&docSummary=").concat(encodeURI(t.docSummary),"&docId=").concat(t.docId,"&docUrl=").concat(t.docUrl);return o["a"].get(e)}function u(t){var e="".concat(c["a"].GET_DOC_INFO,"?selfId=").concat(a.salesId,"&docId=").concat(t);return o["a"].get(e)}},"5dc3":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},7893:function(t,e,n){"use strict";n("a4c0")},"7b6a":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-view center-layout"},[n("sticky",{staticClass:"sub-navbardraft",attrs:{"z-index":10}},[n("div",{staticClass:"sticky-base"},[n("el-button",{staticClass:"down-button",attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(e){return t.downloadDoc()}}},[t._v("下载")])],1)]),t._v(" "),n("div",{staticClass:"article-content"},[n("h2",{style:"width:"+t.contentWidth},[t._v(t._s(t.docInfo.docName))]),t._v(" "),n("div",{staticClass:"info-base"},[n("div",{staticClass:"publish-view"},[t._v("发布者："+t._s(t.docInfo.salesName))]),t._v(" "),n("div",{staticClass:"time-view"},[t._v("更新日期："+t._s(t.docInfo.updateTime&&t.docInfo.updateTime.length?t.docInfo.updateTime:t.docInfo.createTime))])]),t._v(" "),n("div",{staticClass:"coment-content"},[t._v(t._s(t.docInfo.docSummary))]),t._v(" "),n("h4",[t._v("评论：")]),t._v(" "),n("el-form",{ref:"comForm",staticClass:"demo-ruleForm",attrs:{model:t.commentInfo,rules:t.commentRules,"label-width":"100px","hide-required-asterisk":"","label-position":"top"}},[n("el-form-item",{attrs:{label:"",prop:"comContent"}},[n("el-input",{staticClass:"textarea-style",attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"800","show-word-limit":"",autosize:{minRows:3,maxRows:5}},model:{value:t.commentInfo.comContent,callback:function(e){t.$set(t.commentInfo,"comContent",e)},expression:"commentInfo.comContent"}}),t._v(" "),n("div",{staticClass:"subview"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sumComment()}}},[t._v("提交")])],1)],1)],1),t._v(" "),t._l(t.arrCommetn,(function(e,o){return n("div",{key:o,attrs:{width:"100%"}},[[n("comment",{attrs:{"comment-info":e}})],t._v(" "),n("el-divider")],2)})),t._v(" "),t.arrCommetn&&0===t.arrCommetn.length?n("div",[n("div",{staticClass:"no-comment"},[t._v("暂无评论")]),t._v(" "),n("el-divider")],1):t._e()],2)],1)},c=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base-view"},[n("div",{staticClass:"head-base"},[n("el-avatar",{staticClass:"user-avatar"},[t._v(" "+t._s(t.userShowName)+" ")]),t._v(" "),n("div",{staticClass:"title-base"},[n("div",{staticClass:"title"},[t._v(t._s(t.commentInfo.comSalerName))]),t._v(" "),n("div",{staticClass:"time"},[t._v(t._s(t.commentInfo.createTime))])])],1),t._v(" "),n("div",{staticClass:"summary"},[t._v(t._s(t.commentInfo.comContent))])])},a=[],s={name:"Comment",props:{commentInfo:{type:Object,required:!0}},data:function(){return{}},computed:{userShowName:function(){return this.commentInfo.comSalerName.length>2?this.commentInfo.comSalerName.substring(this.commentInfo.comSalerName.length-2,this.commentInfo.comSalerName.length):this.commentInfo.comSalerName}},created:function(){},methods:{}},r=s,d=(n("8dfd"),n("c701")),m=Object(d["a"])(r,i,a,!1,null,"89b950e6",null),l=m.exports,u=n("424e"),f=n("5163"),h=n("b804"),I={name:"DocDetail",components:{Comment:l,Sticky:h["a"]},data:function(){return{commentRules:{comContent:[{required:!0,message:"请输入评论内容",trigger:"blur"},{min:1,max:800,message:"长度在800个字符以内",trigger:"blur"}]},commentInfo:{},docInfo:{},arrCommetn:[],fullWidth:document.documentElement.clientWidth,contentWidth:"",reqData:{docId:"",pageNum:1}}},computed:{},created:function(){var t=f["a"].getUserInfo();"my"===this.$route.query.action?(this.reqData.docId=this.$route.query.docId,this.commentInfo.docId=this.$route.query.docId,this.commentInfo.comSalerId=t.salesId,this.commentInfo.comSalerName=t.salesName,this.commentInfo.comType=1,this.reqDocInfo()):(this.docInfo=this.$route.query.info,this.reqData.docId=this.docInfo.docId,this.commentInfo.docId=this.docInfo.docId,this.commentInfo.comSalerId=t.salesId,this.commentInfo.comSalerName=t.salesName,this.commentInfo.comType=1),this.getCommentList(),window.addEventListener("resize",this.handleResize),this.setContentWidth()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{getCommentList:function(){var t=this;Object(u["b"])(this.reqData,!1).then((function(e){1===e.code?t.arrCommetn=e.data:t.$msg.error(e.msg)})).catch((function(t){}))},reqDocInfo:function(){var t=this;Object(u["c"])(this.$route.query.docId).then((function(e){1===e.code?t.docInfo=e.data:t.$msg.error(e.msg)})).catch((function(t){}))},downloadDoc:function(){window.location.href=this.docInfo.docUrl},sumComment:function(){var t=this,e=this;this.$refs["comForm"].validate((function(n){n&&Object(u["a"])(t.commentInfo).then((function(t){1===t.code?(e.$msg.success("评论成功"),e.commentInfo.comContent="",e.getCommentList()):e.$msg.error(t.msg)})).catch((function(t){}))}))},handleResize:function(t){this.fullWidth=document.documentElement.clientWidth,this.setContentWidth()},setContentWidth:function(){this.fullWidth<=800?this.contentWidth=this.fullWidth-40+"px":this.contentWidth="760px"}}},v=I,p=(n("7893"),Object(d["a"])(v,o,c,!1,null,"4a7541bf",null));e["default"]=p.exports},"8dfd":function(t,e,n){"use strict";n("e535")},a4c0:function(t,e,n){},a83a:function(t,e,n){var o=n("9cff"),c=n("e0ff").set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&c&&c(t,i),t}},b804:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{height:t.height+"px",zIndex:t.zIndex}},[n("div",{class:t.className,style:{top:t.isSticky?t.stickyTop+"px":"",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+"px"}},[t._t("default",[n("div",[t._v("sticky")])])],2)])},c=[],i=(n("e680"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var t=this.$el.getBoundingClientRect().width;this.width=t||"auto";var e=this.$el.getBoundingClientRect().top;e<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),a=i,s=n("c701"),r=Object(s["a"])(a,o,c,!1,null,null,null);e["a"]=r.exports},e0ff:function(t,e,n){var o=n("9cff"),c=n("a86f"),i=function(t,e){if(c(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("1e4d")(Function.call,n("285b").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(c){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},e535:function(t,e,n){},e680:function(t,e,n){"use strict";var o=n("0b34"),c=n("4fd4"),i=n("cea2"),a=n("a83a"),s=n("5d10"),r=n("0926"),d=n("21d9").f,m=n("285b").f,l=n("bb8b").f,u=n("eb34").trim,f="Number",h=o[f],I=h,v=h.prototype,p=i(n("7ee3")(v))==f,_="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():u(e,3);var n,o,c,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:o=2,c=49;break;case 79:case 111:o=8,c=55;break;default:return+e}for(var a,r=e.slice(2),d=0,m=r.length;d<m;d++)if(a=r.charCodeAt(d),a<48||a>c)return NaN;return parseInt(r,o)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(p?r((function(){v.valueOf.call(n)})):i(n)!=f)?a(new I(g(e)),n,h):g(e)};for(var y,C=n("26df")?d(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;C.length>b;b++)c(I,y=C[b])&&!c(h,y)&&l(h,y,m(I,y));h.prototype=v,v.constructor=h,n("84e8")(o,f,h)}},eb34:function(t,e,n){var o=n("e99b"),c=n("3ab0"),i=n("0926"),a=n("5dc3"),s="["+a+"]",r="​",d=RegExp("^"+s+s+"*"),m=RegExp(s+s+"*$"),l=function(t,e,n){var c={},s=i((function(){return!!a[t]()||r[t]()!=r})),d=c[t]=s?e(u):a[t];n&&(c[n]=d),o(o.P+o.F*s,"String",c)},u=l.trim=function(t,e){return t=String(c(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(m,"")),t};t.exports=l}}]);